var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,r.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired7c6=r);var a=r("byOjp"),o=r("b5rV1");a=r("byOjp"),o=r("b5rV1");const l=document.querySelector(".gallery-list");function i(e){const t=e.map((({id:e,original_title:t,poster_path:n,title:r,genre_ids:a,release_date:l})=>`<li class="gallery__item" data-id="${e}">\n        <img src="${function(e){return e?`https://image.tmdb.org/t/p/w500${e}`:"https://upload.wikimedia.org/wikipedia/commons/c/c2/No_image_poster.png?20170513175923"}(n)}" alt="${r}" class="gallery_img" width="395" height="574" />\n        <h2 class="gallery__title">${function(e){const t=e.split("");return t.length>=33?t.slice(0,33).join("")+"...":e}(t)}</h2>\n        <p class="gallery__txt">${function(e){const t=(0,o.getFromStorage)("genresList"),n=[];for(const r of e)for(const e of t)e.id===r&&n.push(e.name);return n.length>2?n.slice(0,2).join(", ")+" and Other":n.join(", ")}(a)} | ${function(e){return e?e.split("-")[0]:""}(l)}\n      </li>`)).join("");l.innerHTML=t}const c=new(0,a.default);let d,s;function u(e,t,n){d=t,s=e;const r=document.querySelector(".pagination");if(r.innerHTML="",d<=1)return document.querySelector(".next").style.display="none",void(document.querySelector(".prev").style.display="none");if(document.querySelector(".next").style.display="block",document.querySelector(".prev").style.display="block",d<=1)return;n&&(c.currentPage=1);const a=(e,t)=>{const n=document.createElement("li");return n.textContent=e,n.classList.add("page"),t&&n.classList.add("active"),n.addEventListener("click",(async()=>{c.currentPage=e,g(),p()})),n},o=document.createDocumentFragment();if(d<=7)for(let e=1;e<=d;e++)o.appendChild(a(e,e===c.currentPage));else if(c.currentPage<=4){for(let e=1;e<=6;e++)o.appendChild(a(e,e===c.currentPage));o.appendChild(document.createElement("li")).textContent="...",o.appendChild(a(d,!1))}else if(c.currentPage>d-4){o.appendChild(a(1,!1)),o.appendChild(document.createElement("li")).textContent="...";for(let e=d-5;e<=d;e++)o.appendChild(a(e,e===c.currentPage))}else{o.appendChild(a(1,!1)),o.appendChild(document.createElement("li")).textContent="...";for(let e=c.currentPage-2;e<=c.currentPage+2;e++)o.appendChild(a(e,e===c.currentPage));o.appendChild(document.createElement("li")).textContent="...",o.appendChild(a(d,!1))}r.appendChild(o)}document.querySelector(".next").addEventListener("click",(async()=>{c.currentPage<d&&(c.currentPage++,g(),p())}));async function g(){if(s){u(s,d),c.searchQuery=s;const{results:e}=await c.getFilmOnSearch();i(e)}else{const{results:e}=await c.fetchTrendingMovie();u("",d),i(e)}}function p(){window.pageYOffset>0&&(window.scrollBy(0,-30),setTimeout(p,0))}document.querySelector(".prev").addEventListener("click",(async()=>{c.currentPage>1&&(c.currentPage--,g(),p())}));var f=r("dSs1Y");const m=new(0,a.default);!async function(){f.Loading.standard();try{const[e,t]=await Promise.all([m.getGenres(),m.fetchTrendingMovie()]);(0,o.addToStorage)("genresList",e.genres),i(t.results),u("",500)}catch(e){console.log(e)}finally{f.Loading.remove(300)}}(),r("bTcpz"),r("gyeM6");o=r("b5rV1");document.getElementById("language-toggle").addEventListener("click",(function(){y="en"===y?"ua":"en",h(y)}));let y=(0,o.getFromStorage)("lang")||"en";function h(e){(0,o.addToStorage)("lang",e);document.querySelectorAll("[data-lang]").forEach((t=>{const n=t.getAttribute("data-lang");w.hasOwnProperty(n)&&(t.textContent=w[n][e])}))}(0,o.addToStorage)("lang",y);const w={home:{en:"Home",ua:"Домашня"},my_library:{en:"My library",ua:"Моя бібліотека"},dark_theme:{en:"dark",ua:"темна"},light_theme:{en:"light",ua:"світла"}};h(y);
//# sourceMappingURL=index.e290b44e.js.map
