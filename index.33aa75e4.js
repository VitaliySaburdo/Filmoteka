!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var o=a("bpxeT"),i=a("1t1Wn"),c=a("2TvXO"),l=a("7oLKb"),u=a("4LMMA"),d=(o=a("bpxeT"),c=a("2TvXO"),l=a("7oLKb"),u=a("4LMMA"),document.querySelector(".gallery-list"));function s(e){var t=e.map((function(e){var t=e.id,n=e.original_title,r=e.poster_path,a=e.title,o=e.genre_ids,i=e.release_date;return'<li class="gallery__item" data-id="'.concat(t,'">\n        <img src="').concat(function(e){return e?"https://image.tmdb.org/t/p/w500".concat(e):"https://upload.wikimedia.org/wikipedia/commons/c/c2/No_image_poster.png?20170513175923"}(r),'" alt="').concat(a,'" class="gallery_img" width="395" height="574" />\n        <h2 class="gallery__title">').concat(function(e){var t=e.split("");return t.length>=33?t.slice(0,33).join("")+"...":e}(n),'</h2>\n        <p class="gallery__txt">').concat(function(e){var t=(0,u.getFromStorage)("genresList"),n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var l=i.value,d=!0,s=!1,p=void 0;try{for(var f,g=t[Symbol.iterator]();!(d=(f=g.next()).done);d=!0){var v=f.value;v.id===l&&n.push(v.name)}}catch(e){s=!0,p=e}finally{try{d||null==g.return||g.return()}finally{if(s)throw p}}}}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n.length>2?n.slice(0,2).join(", ")+" and Other":n.join(", ")}(o)," | ").concat(function(e){return e?e.split("-")[0]:""}(i),"\n      </li>")})).join("");d.innerHTML=t}var p,f,g=new(0,l.default);function v(t,n,r){p=n,f=t;var a=document.querySelector(".pagination");if(a.innerHTML="",p<=1)return document.querySelector(".next").style.display="none",void(document.querySelector(".prev").style.display="none");if(document.querySelector(".next").style.display="block",document.querySelector(".prev").style.display="block",!(p<=1)){r&&(g.currentPage=1);var i=function(t,n){var r=document.createElement("li");return r.textContent=t,r.classList.add("page"),n&&r.classList.add("active"),r.addEventListener("click",e(o)(e(c).mark((function n(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.currentPage=t,m(),y();case 3:case"end":return e.stop()}}),n)})))),r},l=document.createDocumentFragment();if(p<=7)for(var u=1;u<=p;u++)l.appendChild(i(u,u===g.currentPage));else if(g.currentPage<=4){for(var d=1;d<=6;d++)l.appendChild(i(d,d===g.currentPage));l.appendChild(document.createElement("li")).textContent="...",l.appendChild(i(p,!1))}else if(g.currentPage>p-4){l.appendChild(i(1,!1)),l.appendChild(document.createElement("li")).textContent="...";for(var s=p-5;s<=p;s++)l.appendChild(i(s,s===g.currentPage))}else{l.appendChild(i(1,!1)),l.appendChild(document.createElement("li")).textContent="...";for(var v=g.currentPage-2;v<=g.currentPage+2;v++)l.appendChild(i(v,v===g.currentPage));l.appendChild(document.createElement("li")).textContent="...",l.appendChild(i(p,!1))}a.appendChild(l)}}function m(){return h.apply(this,arguments)}function h(){return(h=e(o)(e(c).mark((function t(){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=9;break}return v(f,p),g.searchQuery=f,e.next=5,g.getFilmOnSearch();case 5:s(e.sent.results),e.next=14;break;case 9:return e.next=11,g.fetchTrendingMovie();case 11:n=e.sent.results,v("",p),s(n);case 14:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function y(){window.pageYOffset>0&&(window.scrollBy(0,-30),setTimeout(y,0))}document.querySelector(".next").addEventListener("click",e(o)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.currentPage<p&&(g.currentPage++,m(),y());case 1:case"end":return e.stop()}}),t)})))),document.querySelector(".prev").addEventListener("click",e(o)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.currentPage>1&&(g.currentPage--,m(),y());case 1:case"end":return e.stop()}}),t)}))));var x=a("7rQOT"),w=new(0,l.default);function b(){return(b=e(o)(e(c).mark((function t(){var n,r,a;return e(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x.Loading.standard(),t.prev=1,t.t0=e(i),t.next=5,Promise.all([w.getGenres(),w.fetchTrendingMovie()]);case 5:t.t1=t.sent,n=(0,t.t0)(t.t1,2),r=n[0],a=n[1],(0,u.addToStorage)("genresList",r.genres),s(a.results),v("",500),t.next=17;break;case 14:t.prev=14,t.t2=t.catch(1),console.log(t.t2);case 17:return t.prev=17,x.Loading.remove(300),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[1,14,17,20]])})))).apply(this,arguments)}!function(){b.apply(this,arguments)}(),a("5xtVg"),a("b3EoS");u=a("4LMMA");document.getElementById("language-toggle").addEventListener("click",(function(){e=C="en"===C?"ua":"en",document.querySelectorAll("[data-lang]").forEach((function(t){var n=t.getAttribute("data-lang");L.hasOwnProperty(n)&&(t.textContent=L[n][e])})),(0,u.addToStorage)("lang",C);var e}));var C="en";var L={home:{en:"Home",ua:"Домашня"},my_library:{en:"My library ",ua:"Моя бібліотека"}}}();
//# sourceMappingURL=index.33aa75e4.js.map
