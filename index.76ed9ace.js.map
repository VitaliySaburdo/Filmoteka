{"mappings":"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","sources":["src/js/gallery.js","src/js/markup-gallery.js","src/js/pagination.js","src/js/language-change.js"],"sourcesContent":["import newsApiService from './api-services';\nimport { addToStorage } from './local-storage';\nimport { generatePagination } from './pagination';\nimport { renderGalleryFilms } from './markup-gallery';\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\n\nconst ApiService = new newsApiService();\n\nasync function startGalleryFilms() {\n  Loading.standard();\n  try {\n    const [genresData, movieData] = await Promise.all([\n      ApiService.getGenres(),\n      ApiService.fetchTrendingMovie(),\n    ]);\n\n    addToStorage('genresList', genresData.genres);\n    renderGalleryFilms(movieData.results);\n    generatePagination('', 500);\n  } catch (error) {\n    console.log(error);\n  } finally {\n    Loading.remove(300);\n  }\n}\nstartGalleryFilms();\n","import { getFromStorage } from './local-storage';\n\nconst imageGalleryRef = document.querySelector('.gallery-list');\n\nexport function renderGalleryFilms(moviesCards) {\n  const markupGallery = moviesCards\n    .map(\n      ({\n        id,\n        original_title,\n        poster_path,\n        title,\n        genre_ids,\n        release_date,\n      }) => `<li class=\"gallery__item\" data-id=\"${id}\">\n        <img src=\"${renderImg(\n        poster_path\n      )}\" alt=\"${title}\" class=\"gallery_img\" width=\"395\" height=\"574\" />\n        <h2 class=\"gallery__title\">${checkTitle(original_title)}</h2>\n        <p class=\"gallery__txt\">${changeGenre(genre_ids)} | ${checkDate(\n        release_date\n      )}\n      </li>`\n    )\n    .join('');\n\n  imageGalleryRef.innerHTML = markupGallery;\n}\n\n  function renderImg(poster_path) {\n    if (poster_path) {\n      return `https://image.tmdb.org/t/p/w500${poster_path}`;\n    }\n    return `https://upload.wikimedia.org/wikipedia/commons/c/c2/No_image_poster.png?20170513175923`;\n  }\n\n  function checkDate(release_date) {\n    if (release_date) {\n      return release_date.split('-')[0];\n    }\n    return '';\n  }\n\n  function checkTitle(original_title) {\n    const arr = original_title.split('');\n\n    if (arr.length >= 33) {\n      return arr.slice(0, 33).join('') + '...';\n    }\n    return original_title;\n  }\n\n  function changeGenre(genre_ids) {\n    const genresInfo = getFromStorage('genresList');\n\n    const genreArray = [];\n\n    for (const genre_id of genre_ids) {\n      for (const genreInfo of genresInfo) {\n        if (genreInfo.id === genre_id) {\n          genreArray.push(genreInfo.name);\n        }\n      }\n    }\n    if (genreArray.length > 2) {\n      return genreArray.slice(0, 2).join(', ') + ' and Other';\n    }\n    return genreArray.join(', ');\n  }","import newsApiService from './api-services';\nimport { renderGalleryFilms } from './markup-gallery';\n\nconst ApiService = new newsApiService();\n\nlet totalItems;\nlet query;\n\nexport function generatePagination(querySearch, itemsCount, page) {\n  totalItems = itemsCount;\n  query = querySearch;\n\n  const paginationContainer = document.querySelector('.pagination');\n  paginationContainer.innerHTML = '';\n\n  if (totalItems <= 1) {\n    document.querySelector('.next').style.display = 'none';\n    document.querySelector('.prev').style.display = 'none';\n    return;\n  } else {\n    document.querySelector('.next').style.display = 'block';\n    document.querySelector('.prev').style.display = 'block';\n  }\n\n  if (totalItems <= 1) {\n    return;\n  }\n\n  if (page) {\n    ApiService.currentPage = 1;\n  }\n\n  const createPageElement = (pageNumber, isActive) => {\n    const li = document.createElement('li');\n    li.textContent = pageNumber;\n    li.classList.add('page');\n    if (isActive) {\n      li.classList.add('active');\n    }\n    li.addEventListener('click', async () => {\n      ApiService.currentPage = pageNumber;\n      handleButtonClick();\n      backToTop();\n    });\n    return li;\n  };\n\n  const paginationFragment = document.createDocumentFragment();\n\n  if (totalItems <= 7) {\n    for (let i = 1; i <= totalItems; i++) {\n      paginationFragment.appendChild(\n        createPageElement(i, i === ApiService.currentPage)\n      );\n    }\n  } else {\n    if (ApiService.currentPage <= 4) {\n      for (let i = 1; i <= 6; i++) {\n        paginationFragment.appendChild(\n          createPageElement(i, i === ApiService.currentPage)\n        );\n      }\n      paginationFragment.appendChild(document.createElement('li')).textContent =\n        '...';\n      paginationFragment.appendChild(createPageElement(totalItems, false));\n    } else if (ApiService.currentPage > totalItems - 4) {\n      paginationFragment.appendChild(createPageElement(1, false));\n      paginationFragment.appendChild(document.createElement('li')).textContent =\n        '...';\n      for (let i = totalItems - 5; i <= totalItems; i++) {\n        paginationFragment.appendChild(\n          createPageElement(i, i === ApiService.currentPage)\n        );\n      }\n    } else {\n      paginationFragment.appendChild(createPageElement(1, false));\n      paginationFragment.appendChild(document.createElement('li')).textContent =\n        '...';\n      for (\n        let i = ApiService.currentPage - 2;\n        i <= ApiService.currentPage + 2;\n        i++\n      ) {\n        paginationFragment.appendChild(\n          createPageElement(i, i === ApiService.currentPage)\n        );\n      }\n      paginationFragment.appendChild(document.createElement('li')).textContent =\n        '...';\n      paginationFragment.appendChild(createPageElement(totalItems, false));\n    }\n  }\n  paginationContainer.appendChild(paginationFragment);\n}\n\nconst nextButton = document.querySelector('.next');\nnextButton.addEventListener('click', async () => {\n  if (ApiService.currentPage < totalItems) {\n    ApiService.currentPage++;\n    handleButtonClick();\n    backToTop();\n  }\n});\n\nconst prevButton = document.querySelector('.prev');\nprevButton.addEventListener('click', async () => {\n  if (ApiService.currentPage > 1) {\n    ApiService.currentPage--;\n    handleButtonClick();\n    backToTop();\n  }\n});\n\nasync function handleButtonClick() {\n  if (query) {\n    generatePagination(query, totalItems);\n    ApiService.searchQuery = query;\n    const { results } = await ApiService.getFilmOnSearch();\n    renderGalleryFilms(results);\n  } else {\n    const { results } = await ApiService.fetchTrendingMovie();\n    generatePagination('', totalItems);\n    renderGalleryFilms(results);\n  }\n}\n\nfunction backToTop() {\n  if (window.pageYOffset > 0) {\n    window.scrollBy(0, -30);\n    setTimeout(backToTop, 0);\n  }\n}\n","import { addToStorage, getFromStorage } from './local-storage';\nconst languageToggleBtn = document.getElementById('language-toggle');\n\nlanguageToggleBtn.addEventListener('click', toggleLanguage);\n\nlet currentLanguage = getFromStorage('lang') || 'en';\n\naddToStorage('lang', currentLanguage);\n\nfunction toggleLanguage() {\n  currentLanguage = currentLanguage === 'en' ? 'ua' : 'en';\n\n  setLanguage(currentLanguage);\n}\n\nfunction setLanguage(currentLanguage) {\n  addToStorage('lang', currentLanguage);\n  const langEls = document.querySelectorAll('[data-lang]');\n  langEls.forEach(el => {\n    const key = el.getAttribute('data-lang');\n    if (languages.hasOwnProperty(key)) {\n      el.textContent = languages[key][currentLanguage];\n    }\n  });\n}\n\nconst languages = {\n  home: {\n    en: 'Home',\n    ua: 'Домашня',\n  },\n  my_library: {\n    en: 'My library',\n    ua: 'Моя бібліотека',\n  },\n  dark_theme: {\n    en: 'dark',\n    ua: 'темна',\n  },\n  light_theme: {\n    en: 'light',\n    ua: 'світла',\n  },\n};\n\nsetLanguage(currentLanguage);\n"],"names":["$bpxeT","parcelRequire","$de97be5debb74b71$var$imageGalleryRef","$4LMMA","document","querySelector","$de97be5debb74b71$export$7303e8af20b87c34","moviesCards","markupGallery","map","param","id","original_title","poster_path","title","genre_ids","release_date","concat","$de97be5debb74b71$var$renderImg","arr","split","length","slice","join","$de97be5debb74b71$var$checkTitle","genresInfo","getFromStorage","genreArray","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","genre_id","value","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_step1","_iterator1","genreInfo","push","name","err","return","$de97be5debb74b71$var$changeGenre","$de97be5debb74b71$var$checkDate","innerHTML","$dfaf77c789ce7a24$var$totalItems","$dfaf77c789ce7a24$var$query","$dfaf77c789ce7a24$var$ApiService","$7oLKb","default","$dfaf77c789ce7a24$export$c8bc0fd6d46e50a2","querySearch","itemsCount","page","paginationContainer","style","display","currentPage","createPageElement","pageNumber","isActive","li","createElement","textContent","classList","add","addEventListener","$parcel$interopDefault","$2TvXO","mark","_callee","$dfaf77c789ce7a24$var$handleButtonClick","$dfaf77c789ce7a24$var$backToTop","paginationFragment","createDocumentFragment","i","appendChild","i1","i2","i3","$dfaf77c789ce7a24$var$_handleButtonClick","apply","this","arguments","results1","searchQuery","getFilmOnSearch","_ctx","sent","results","fetchTrendingMovie","window","pageYOffset","scrollBy","setTimeout","$6756f0db6f988caf$var$ApiService","$6756f0db6f988caf$var$_startGalleryFilms","ref","genresData","movieData","$7rQOT","Loading","standard","Promise","all","getGenres","t0","t1","addToStorage","genres","console","log","t2","remove","$6756f0db6f988caf$var$startGalleryFilms","getElementById","$38d8215ac4a708bc$var$setLanguage","$38d8215ac4a708bc$var$currentLanguage","currentLanguage1","querySelectorAll","forEach","el","key","getAttribute","$38d8215ac4a708bc$var$languages","hasOwnProperty","home","en","ua","my_library","dark_theme","light_theme"],"version":3,"file":"index.76ed9ace.js.map"}